# ุฏููู ุงูุชูุงูู ุจูู ุงูุจุงู ุงูุฏ ูุงููุฑููุช ุงูุฏ

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชูููู ุงููุดุฑูุน ุจูุฌุงุญ ููุนูู ูุน ASP.NET Core Web API (ุงูุจุงู ุงูุฏ) ู React + TypeScript + Vite (ุงููุฑููุช ุงูุฏ) ูุน ุฏุนู ูุงูู ูููุตุงุฏูุฉ ุจุงุณุชุฎุฏุงู JWT.

## ๐๏ธ ูููู ุงููุดุฑูุน

```
project_v4/
โโโ Backend/                          # ASP.NET Core Web API
โ   โโโ ElectronicsStore.WebAPI/      # ูุดุฑูุน ุงูุจุงู ุงูุฏ ุงูุฑุฆูุณู
โโโ Frontend/                         # React + TypeScript + Vite
    โโโ src/                          # ููุฏ ุงููุฑููุช ุงูุฏ
```

## ๐ง ุงููููุงุช ุงููููุดุฃุฉ/ุงูููุญุฏุซุฉ

### ุงูุจุงู ุงูุฏ (Backend)
- โ **Program.cs**: ููููููู ุจุงููุนู ูุน JWT ู CORS
- โ **appsettings.json**: ูุญุชูู ุนูู ุฅุนุฏุงุฏุงุช JWT
- โ **AuthController.cs**: ุฌุงูุฒ ูุน endpoints ูููุตุงุฏูุฉ

### ุงููุฑููุช ุงูุฏ (Frontend)
- โ **src/config/api.ts**: ุชูููู API ู endpoints
- โ **src/services/apiService.ts**: ุฎุฏูุฉ API ุดุงููุฉ ูุน JWT
- โ **src/services/productService.ts**: ุฎุฏูุฉ ุงูููุชุฌุงุช
- โ **src/hooks/useProducts.ts**: React hooks ููููุชุฌุงุช
- โ **src/hooks/useAuth.ts**: React hooks ูููุตุงุฏูุฉ
- โ **src/contexts/AuthContext.tsx**: ููุญุฏุซ ููุชุนุงูู ูุน JWT
- โ **src/components/ProtectedRoute.tsx**: ุญูุงูุฉ ุงูุตูุญุงุช
- โ **src/components/LoadingSpinner.tsx**: ูููู ุงูุชุญููู
- โ **src/components/ErrorBoundary.tsx**: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
- โ **src/components/Toast.tsx**: ูุธุงู ุงูุฅุดุนุงุฑุงุช
- โ **src/pages/auth/LoginPage.tsx**: ููุญุฏุซ ููุชุนุงูู ูุน API
- โ **src/pages/inventory/ProductsPageUpdated.tsx**: ูุซุงู ุนูู ุงุณุชุฎุฏุงู API

## ๐ ุชุนูููุงุช ุงูุชุดุบูู

### 1. ุชุดุบูู ุงูุจุงู ุงูุฏ

```bash
# ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงูุจุงู ุงูุฏ
cd Backend/ElectronicsStore.WebAPI

# ุชุซุจูุช ุงูุชุจุนูุงุช (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
dotnet restore

# ุชุดุบูู ุงูุจุงู ุงูุฏ
dotnet run
```

**ุงูุจุงู ุงูุฏ ุณูุนูู ุนูู:**
- HTTPS: `https://localhost:7001`
- HTTP: `http://localhost:5002`

### 2. ุชุดุบูู ุงููุฑููุช ุงูุฏ

```bash
# ุงูุงูุชูุงู ุฅูู ูุฌูุฏ ุงููุฑููุช ุงูุฏ
cd Frontend

# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ุชุดุบูู ุงููุฑููุช ุงูุฏ
npm run dev
```

**ุงููุฑููุช ุงูุฏ ุณูุนูู ุนูู:**
- `http://localhost:8080`

## ๐ ุงููุตุงุฏูุฉ ูุงูุตูุงุญูุงุช

### ุญุณุงุจุงุช ุชุฌุฑูุจูุฉ
- **ูุฏูุฑ ุงููุธุงู**: `admin` / `admin123`
- **ููุธู ููุงุท ุงูุจูุน**: `pos` / `pos123`

### JWT Token
- ูุชู ุชุฎุฒูู JWT ูู `localStorage`
- ูุฏุฉ ุตูุงุญูุฉ ุงูู token: 60 ุฏูููุฉ
- ูุชู ุฅุฑูุงู ุงูู token ุชููุงุฆูุงู ูู ุฌููุน ุงูุทูุจุงุช ุงููุญููุฉ

## ๐ CORS Configuration

ุงูุจุงู ุงูุฏ ููููููู ููุณูุงุญ ุจุงูุงุชุตุงู ูู:
- `http://localhost:8080` (Vite)
- `http://localhost:3000` (React)
- `http://localhost:4200` (Angular)
- `http://127.0.0.1:5500` (Live Server)

## ๐ก API Endpoints

### ุงููุตุงุฏูุฉ
- `POST /api/Auth/login` - ุชุณุฌูู ุงูุฏุฎูู
- `POST /api/Auth/logout` - ุชุณุฌูู ุงูุฎุฑูุฌ
- `GET /api/Auth/me` - ุจูุงูุงุช ุงููุณุชุฎุฏู ุงูุญุงูู
- `POST /api/Auth/refresh-token` - ุชุฌุฏูุฏ ุงูู token

### ุงูููุชุฌุงุช
- `GET /api/Products` - ูุงุฆูุฉ ุงูููุชุฌุงุช
- `POST /api/Products` - ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ
- `PUT /api/Products/{id}` - ุชุญุฏูุซ ููุชุฌ
- `DELETE /api/Products/{id}` - ุญุฐู ููุชุฌ

## ๐๏ธ ุงุณุชุฎุฏุงู API ูู ุงููุฑููุช ุงูุฏ

### 1. ุงุณุชุฎุฏุงู ุฎุฏูุฉ API

```typescript
import { apiService } from '@/services/apiService';

// ุชุณุฌูู ุงูุฏุฎูู
const result = await apiService.login({ username: 'admin', password: 'admin123' });

// ุงูุญุตูู ุนูู ุงูููุชุฌุงุช
const products = await apiService.get('/api/Products');
```

### 2. ุงุณุชุฎุฏุงู React Hooks

```typescript
import { useProducts, useCreateProduct } from '@/hooks/useProducts';

function ProductsComponent() {
  const { data: products, isLoading } = useProducts();
  const createProduct = useCreateProduct();
  
  // ุงุณุชุฎุฏุงู ุงูุจูุงูุงุช...
}
```

### 3. ุญูุงูุฉ ุงูุตูุญุงุช

```typescript
import { ProtectedRoute } from '@/components/ProtectedRoute';

function App() {
  return (
    <ProtectedRoute requiredRole="Admin">
      <AdminDashboard />
    </ProtectedRoute>
  );
}
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุงูุงุชุตุงู
1. ุชุฃูุฏ ูู ุชุดุบูู ุงูุจุงู ุงูุฏ ุนูู ุงููููุฐ ุงูุตุญูุญ
2. ุชุญูู ูู ุฅุนุฏุงุฏุงุช CORS
3. ุชุฃูุฏ ูู ุตุญุฉ ุนููุงู URL ูู `src/config/api.ts`

### ูุดุงูู ุงููุตุงุฏูุฉ
1. ุชุญูู ูู ุตุญุฉ ุจูุงูุงุช ุชุณุฌูู ุงูุฏุฎูู
2. ุชุฃูุฏ ูู ูุฌูุฏ ุงููุณุชุฎุฏู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
3. ุชุญูู ูู ุฅุนุฏุงุฏุงุช JWT ูู `appsettings.json`

### ูุดุงูู CORS
1. ุชุฃูุฏ ูู ุฅุถุงูุฉ ุงููููุฐ ุงูุตุญูุญ ูู `Program.cs`
2. ุชุญูู ูู ุฅุนุฏุงุฏุงุช `AllowCredentials()`

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู**: ูู ุงูุฅูุชุงุฌุ ูุฌุจ ุชุบููุฑ `SecretKey` ูู JWT
2. **HTTPS**: ูู ุงูุฅูุชุงุฌุ ูุฌุจ ุชูุนูู HTTPS ููุท
3. **CORS**: ูู ุงูุฅูุชุงุฌุ ูุฌุจ ุชุญุฏูุฏ ุงูุฃุตูู ุงููุณููุญุฉ ุจุฏูุฉ
4. **ุงูุชุฎุฒูู**: JWT ูุญููุธ ูู `localStorage` (ูููู ุชุญุณููู ูุงุญูุงู)

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. ุฅุถุงูุฉ ุงููุฒูุฏ ูู API endpoints
2. ุชุญุณูู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
3. ุฅุถุงูุฉ refresh token ุชููุงุฆู
4. ุชุญุณูู ุงูุฃูุงู (HttpOnly cookies)
5. ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช ูุญุฏุฉ

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงููุ ุชุญูู ูู:
1. Console ูู ุงููุชุตูุญ ููุฃุฎุทุงุก
2. Network tab ูุทูุจุงุช API
3. Console ูู ุงูุจุงู ุงูุฏ ููุฃุฎุทุงุก
4. ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

---

**ุชู ุงูุชูุงูู ุจูุฌุงุญ! ๐**

ููููู ุงูุขู ุชุดุบูู ุงููุดุฑูุนูู ูุงูุงุณุชูุชุงุน ุจุงูุชูุงูู ุงููุงูู ุจูู ุงูุจุงู ุงูุฏ ูุงููุฑููุช ุงูุฏ.

## ๐ ุฎุทูุงุช ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:

1. **ุชุฃูุฏ ูู ุชุดุบูู ุงูุจุงู ุงูุฏ**:
   ```bash
   cd Backend/ElectronicsStore.WebAPI
   dotnet run
   ```

2. **ุชุญูู ูู ุงููููุฐ**:
   - ูุฌุจ ุฃู ูุนูู ุนูู `http://localhost:5002`
   - ูุง ูุฌุจ ุฃู ูููู ููุงู ุฃุฎุทุงุก ูู Console

3. **ุนุฏูู ููู ุงูุชูููู**:
   - ุบูุฑ `BASE_URL` ุฅูู `http://localhost:5002`

4. **ุฃุนุฏ ุชุดุบูู ุงููุฑููุช ุงูุฏ**:
   ```bash
   cd Frontend
   npm run dev
   ```

## ๐ ููุงุญุธุฉ ูููุฉ:

ุงููุดููุฉ ุฃู ุงููุธุงู ูุญุงูู ุงูุงุชุตุงู ุจู HTTPS ุฃููุงูุ ูุฅุฐุง ูุดูุ ูุฌุจ ุฃู ููุชูู ุฅูู HTTP. ููู ูุจุฏู ุฃู ููุทู Fallback ูุง ูุนูู ุจุดูู ุตุญูุญ.

**ุงูุญู ุงูุฃุณุฑุน** ูู ุชุนุฏูู `BASE_URL` ูุงุณุชุฎุฏุงู HTTP ูุจุงุดุฑุฉ.

ูู ุชุฑูุฏ ููู ูุณุงุนุฏุชู ูู ุชุทุจูู ูุฐู ุงูุชุนุฏููุงุชุ
